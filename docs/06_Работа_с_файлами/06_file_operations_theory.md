# –¢–µ–æ—Ä–∏—è: –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Python

## üéØ –¶–µ–ª–∏ —Ä–∞–∑–¥–µ–ª–∞

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –≤—ã –±—É–¥–µ—Ç–µ:
- –ü–æ–Ω–∏–º–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Python
- –£–º–µ—Ç—å —á–∏—Ç–∞—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏
- –ó–Ω–∞—Ç—å –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∞–º–∏
- –ü–æ–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –∏ –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
- –£–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏
- –ó–Ω–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

## üìÅ –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ñ–∞–π–ª –≤ Python

**–§–∞–π–ª** ‚Äî —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫–µ. –í Python —Ñ–∞–π–ª—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Ñ–∞–π–ª–æ–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.

### –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤

1. **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã** ‚Äî —Å–æ–¥–µ—Ä–∂–∞—Ç —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–µ
2. **–ë–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã** ‚Äî —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ –≤ –¥–≤–æ–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã** ‚Äî CSV, JSON, XML –∏ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

## üìñ –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤

### –§—É–Ω–∫—Ü–∏—è open()

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Python:

```python
file_object = open(filename, mode='r', encoding=None, **kwargs)
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ open():

- **filename** ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ Path –æ–±—ä–µ–∫—Ç)
- **mode** ‚Äî —Ä–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞
- **encoding** ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- **buffering** ‚Äî —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- **errors** ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
- **newline** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏

### –†–µ–∂–∏–º—ã –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∂–∏–º—ã:

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ–∑–∏—Ü–∏—è | –°–æ–∑–¥–∞–Ω–∏–µ |
|-------|----------|---------|----------|
| `'r'` | –ß—Ç–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ù–∞—á–∞–ª–æ | ‚ùå |
| `'w'` | –ó–∞–ø–∏—Å—å (–ø–µ—Ä–µ–∑–∞–ø–∏—Å—å) | –ù–∞—á–∞–ª–æ | ‚úÖ |
| `'a'` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ | –ö–æ–Ω–µ—Ü | ‚úÖ |
| `'x'` | –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ | –ù–∞—á–∞–ª–æ | ‚úÖ |

#### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ä–µ–∂–∏–º–æ–≤:

| –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| `'+'` | –ß—Ç–µ–Ω–∏–µ + –∑–∞–ø–∏—Å—å |
| `'b'` | –ë–∏–Ω–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º |
| `'t'` | –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |

#### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã:

```python
# –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤
file1 = open('file.txt', 'r')        # –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
file2 = open('file.txt', 'w')        # –¢–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å
file3 = open('file.txt', 'a')        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
file4 = open('file.txt', 'r+')       # –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å
file5 = open('file.txt', 'w+')       # –ó–∞–ø–∏—Å—å –∏ —á—Ç–µ–Ω–∏–µ (–æ—á–∏—â–∞–µ—Ç —Ñ–∞–π–ª)
file6 = open('file.bin', 'rb')       # –ë–∏–Ω–∞—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
file7 = open('file.bin', 'wb')       # –ë–∏–Ω–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å
file8 = open('file.txt', 'x')        # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
```

## üìù –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### –ú–µ—Ç–æ–¥—ã —á—Ç–µ–Ω–∏—è

#### 1. read() ‚Äî —á—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ N —Å–∏–º–≤–æ–ª–æ–≤

```python
# –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞
with open('file.txt', 'r', encoding='utf-8') as f:
    content = f.read()  # –í—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏

# –ß—Ç–µ–Ω–∏–µ N —Å–∏–º–≤–æ–ª–æ–≤
with open('file.txt', 'r', encoding='utf-8') as f:
    chunk = f.read(100)  # –ü–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤
```

#### 2. readline() ‚Äî —á—Ç–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```python
with open('file.txt', 'r', encoding='utf-8') as f:
    first_line = f.readline()   # –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞
    second_line = f.readline()  # –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞
```

#### 3. readlines() ‚Äî —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ –≤ —Å–ø–∏—Å–æ–∫

```python
with open('file.txt', 'r', encoding='utf-8') as f:
    lines = f.readlines()  # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫
    
# –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ \n
for line in lines:
    print(repr(line))  # 'Hello\n', 'World\n', etc.
```

#### 4. –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Ñ–∞–π–ª—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```python
# –°–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
with open('file.txt', 'r', encoding='utf-8') as f:
    for line in f:
        print(line.strip())  # –£–±–∏—Ä–∞–µ–º \n –≤ –∫–æ–Ω—Ü–µ
```

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª–µ

#### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø–æ–∑–∏—Ü–∏–µ–π:

```python
with open('file.txt', 'r', encoding='utf-8') as f:
    # –£–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é
    position = f.tell()
    
    # –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞
    f.seek(0)
    
    # –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –Ω–∞ 10 –±–∞–π—Ç –æ—Ç –Ω–∞—á–∞–ª–∞
    f.seek(10, 0)  # 0 - –æ—Ç –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞
    
    # –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –Ω–∞ 5 –±–∞–π—Ç –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
    f.seek(5, 1)   # 1 - –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏
    
    # –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è –Ω–∞ 10 –±–∞–π—Ç –æ—Ç –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞
    f.seek(-10, 2) # 2 - –æ—Ç –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞
```

## ‚úèÔ∏è –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤

### –ú–µ—Ç–æ–¥—ã –∑–∞–ø–∏—Å–∏

#### 1. write() ‚Äî –∑–∞–ø–∏—Å—å —Å—Ç—Ä–æ–∫–∏

```python
with open('file.txt', 'w', encoding='utf-8') as f:
    f.write("–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!")
    f.write("\n–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞")
    
# –ó–∞–ø–∏—Å—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
bytes_written = f.write("–¢–µ–∫—Å—Ç")
```

#### 2. writelines() ‚Äî –∑–∞–ø–∏—Å—å —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–æ–∫

```python
lines = ["–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞\n", "–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞\n", "–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞\n"]

with open('file.txt', 'w', encoding='utf-8') as f:
    f.writelines(lines)

# –í–Ω–∏–º–∞–Ω–∏–µ: writelines() –ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–∏–º–≤–æ–ª—ã –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

#### 3. print() –≤ —Ñ–∞–π–ª

```python
with open('file.txt', 'w', encoding='utf-8') as f:
    print("–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞", file=f)
    print("–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞", file=f)
    print("–ß–∏—Å–ª–æ:", 42, file=f)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª

```python
# –†–µ–∂–∏–º 'a' - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
with open('file.txt', 'a', encoding='utf-8') as f:
    f.write("\n–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞")
```

## üîê –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

### –ü—Ä–æ–±–ª–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏

```python
# ‚ùå –ü–ª–æ—Ö–æ–π —Å–ø–æ—Å–æ–± - —Ñ–∞–π–ª –º–æ–∂–µ—Ç –Ω–µ –∑–∞–∫—Ä—ã—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
f = open('file.txt', 'r')
try:
    content = f.read()
    # –ï—Å–ª–∏ –∑–¥–µ—Å—å –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞, —Ñ–∞–π–ª –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç—Å—è
finally:
    f.close()
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä with

```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± - —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–æ–µ—Ç—Å—è
with open('file.txt', 'r', encoding='utf-8') as f:
    content = f.read()
    # –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–æ–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```python
# –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
with open('input.txt', 'r') as infile, \
     open('output.txt', 'w') as outfile:
    data = infile.read()
    outfile.write(data.upper())
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞

```python
class FileManager:
    def __init__(self, filename, mode):
        self.filename = filename
        self.mode = mode
        self.file = None
    
    def __enter__(self):
        print(f"–û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª {self.filename}")
        self.file = open(self.filename, self.mode)
        return self.file
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        print(f"–ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª {self.filename}")
        if self.file:
            self.file.close()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
with FileManager('test.txt', 'w') as f:
    f.write("–¢–µ—Å—Ç")
```

## üåç –ö–æ–¥–∏—Ä–æ–≤–∫–∏ —Ç–µ–∫—Å—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

| –ö–æ–¥–∏—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ë–∞–π—Ç –Ω–∞ —Å–∏–º–≤–æ–ª |
|-----------|----------|----------------|
| ASCII | –ë–∞–∑–æ–≤–∞—è –ª–∞—Ç–∏–Ω–∏—Ü–∞ | 1 |
| UTF-8 | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) | 1-4 |
| UTF-16 | –®–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Windows | 2-4 |
| CP1251 | –ö–∏—Ä–∏–ª–ª–∏—Ü–∞ –≤ Windows | 1 |
| KOI8-R | –°—Ç–∞—Ä–∞—è –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ | 1 |

### –£–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

```python
# –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
with open('file.txt', 'r', encoding='utf-8') as f:
    content = f.read()

# –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ)
with open('file.txt', 'r') as f:  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç locale.getpreferredencoding()
    content = f.read()
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

```python
# –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
strategies = [
    'strict',    # –í—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    'ignore',    # –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    'replace',   # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Å–∏–º–≤–æ–ª –∑–∞–º–µ—â–µ–Ω–∏—è (?)
    'backslashreplace',  # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ \xNN –∏–ª–∏ \uNNNN
    'xmlcharrefreplace', # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ XML-—Å—Å—ã–ª–∫–∏ &#NNNN;
]

for strategy in strategies:
    try:
        with open('file.txt', 'r', encoding='utf-8', errors=strategy) as f:
            content = f.read()
            print(f"–°—Ç—Ä–∞—Ç–µ–≥–∏—è {strategy}: OK")
    except UnicodeDecodeError as e:
        print(f"–°—Ç—Ä–∞—Ç–µ–≥–∏—è {strategy}: {e}")
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–∞

```python
import chardet

def detect_encoding(filename):
    """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É —Ñ–∞–π–ª–∞"""
    with open(filename, 'rb') as f:
        raw_data = f.read()
    
    result = chardet.detect(raw_data)
    return result['encoding'], result['confidence']

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
encoding, confidence = detect_encoding('unknown_file.txt')
print(f"–ö–æ–¥–∏—Ä–æ–≤–∫–∞: {encoding}, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {confidence:.2%}")

# –ß—Ç–µ–Ω–∏–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
with open('unknown_file.txt', 'r', encoding=encoding) as f:
    content = f.read()
```

## üóÇÔ∏è –†–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏

### –ú–æ–¥—É–ª—å os.path (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å–ø–æ—Å–æ–±)

```python
import os

# –†–∞–±–æ—Ç–∞ —Å –ø—É—Ç—è–º–∏
filename = "/home/user/documents/file.txt"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—É—Ç–∏
directory = os.path.dirname(filename)   # "/home/user/documents"
basename = os.path.basename(filename)   # "file.txt"
name, ext = os.path.splitext(basename)  # ("file", ".txt")

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—É—Ç–µ–π
path = os.path.join("home", "user", "file.txt")  # "home/user/file.txt"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
exists = os.path.exists(filename)
is_file = os.path.isfile(filename)
is_dir = os.path.isdir(filename)

# –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
abs_path = os.path.abspath("file.txt")
```

### –ú–æ–¥—É–ª—å pathlib (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±)

```python
from pathlib import Path

# –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –ø—É—Ç–∏
path = Path("documents/file.txt")
abs_path = Path("/home/user/documents/file.txt")

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
print(path.name)         # "file.txt"
print(path.stem)         # "file"
print(path.suffix)       # ".txt"
print(path.suffixes)     # [".txt"]
print(path.parent)       # Path("documents")
print(path.parents)      # –í—Å–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
print(path.anchor)       # –ö–æ—Ä–µ–Ω—å –ø—É—Ç–∏ ("/" –∏–ª–∏ "C:\")

# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –ø—É—Ç–µ–π
new_path = path / "subfolder" / "newfile.txt"
config_path = Path.home() / ".config" / "app.conf"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ —Ç–∏–ø–∞
if path.exists():
    if path.is_file():
        print("–≠—Ç–æ —Ñ–∞–π–ª")
    elif path.is_dir():
        print("–≠—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è")

# –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç–∏
abs_path = path.absolute()
resolved = path.resolve()  # –†–∞–∑—Ä–µ—à–∞–µ—Ç —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ
stat = path.stat()
size = stat.st_size
mtime = stat.st_mtime
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—É—Ç—è–º–∏

```python
from pathlib import Path
import shutil
import os

path = Path("documents/file.txt")

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
path.touch()                    # –°–æ–∑–¥–∞–µ—Ç –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª
path.write_text("content")      # –°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
path.write_bytes(b"binary")     # –°–æ–∑–¥–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª

# –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
content = path.read_text(encoding='utf-8')
binary = path.read_bytes()

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
path.parent.mkdir(parents=True, exist_ok=True)

# –£–¥–∞–ª–µ–Ω–∏–µ
path.unlink()                   # –£–¥–∞–ª—è–µ—Ç —Ñ–∞–π–ª
path.rmdir()                    # –£–¥–∞–ª—è–µ—Ç –ø—É—Å—Ç—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
shutil.rmtree(path)            # –£–¥–∞–ª—è–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
shutil.copy2(src, dst)         # –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
shutil.copytree(src_dir, dst_dir)  # –ö–æ–ø–∏—Ä—É–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
shutil.move(src, dst)          # –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç —Ñ–∞–π–ª/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

# –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
path.rename("new_name.txt")
path.replace("new_name.txt")   # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
```

## üìÇ –†–∞–±–æ—Ç–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏

### –õ–∏—Å—Ç–∏–Ω–≥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```python
from pathlib import Path
import os
import glob

# –°–ø–æ—Å–æ–± 1: os.listdir()
files = os.listdir('.')
for filename in files:
    print(filename)

# –°–ø–æ—Å–æ–± 2: pathlib (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
path = Path('.')
for item in path.iterdir():
    if item.is_file():
        print(f"–§–∞–π–ª: {item.name}")
    elif item.is_dir():
        print(f"–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {item.name}")

# –°–ø–æ—Å–æ–± 3: os.walk() –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞
for root, dirs, files in os.walk('.'):
    for filename in files:
        filepath = os.path.join(root, filename)
        print(filepath)

# –°–ø–æ—Å–æ–± 4: pathlib —Å glob
path = Path('.')
for txt_file in path.glob('*.txt'):
    print(txt_file)

# –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫
for py_file in path.rglob('*.py'):
    print(py_file)
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

```python
from pathlib import Path

def find_files(directory, pattern="*", recursive=True):
    """–ù–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª—ã –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É"""
    path = Path(directory)
    
    if recursive:
        return list(path.rglob(pattern))
    else:
        return list(path.glob(pattern))

# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
python_files = find_files('.', '*.py')
all_files = find_files('.', '*', recursive=False)
config_files = find_files('.', '*.conf')

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –∏ –≤—Ä–µ–º–µ–Ω–∏
large_files = []
for file_path in Path('.').rglob('*'):
    if file_path.is_file():
        size = file_path.stat().st_size
        if size > 1024 * 1024:  # –ë–æ–ª—å—à–µ 1 –ú–ë
            large_files.append(file_path)
```

## üîÑ –†–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

### –ú–æ–¥—É–ª—å tempfile

```python
import tempfile
import os

# –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è)
with tempfile.NamedTemporaryFile(mode='w+t', encoding='utf-8', delete=True) as f:
    f.write("–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")
    f.seek(0)
    content = f.read()
    print(f"–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª: {f.name}")

# –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª (–Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
with tempfile.NamedTemporaryFile(mode='w+t', delete=False) as f:
    f.write("–î–∞–Ω–Ω—ã–µ")
    temp_filename = f.name

# –ù—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é
os.unlink(temp_filename)

# –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
with tempfile.TemporaryDirectory() as temp_dir:
    temp_path = Path(temp_dir)
    temp_file = temp_path / "test.txt"
    temp_file.write_text("test")
    print(f"–í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {temp_dir}")
# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
temp_dir = tempfile.gettempdir()
print(f"–°–∏—Å—Ç–µ–º–Ω–∞—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {temp_dir}")

# –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
temp_name = tempfile.mktemp(suffix='.txt', prefix='myapp_')
print(f"–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è: {temp_name}")
```

## üìä –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤

### CSV —Ñ–∞–π–ª—ã

```python
import csv
from pathlib import Path

# –ó–∞–ø–∏—Å—å CSV
data = [
    ['–ò–º—è', '–í–æ–∑—Ä–∞—Å—Ç', '–ì–æ—Ä–æ–¥'],
    ['–ê–ª–∏—Å–∞', 25, '–ú–æ—Å–∫–≤–∞'],
    ['–ë–æ–±', 30, '–°–ü–±'],
    ['–ß–∞—Ä–ª–∏', 35, '–ö–∞–∑–∞–Ω—å']
]

# –ó–∞–ø–∏—Å—å
with open('people.csv', 'w', newline='', encoding='utf-8') as f:
    writer = csv.writer(f)
    writer.writerows(data)

# –ß—Ç–µ–Ω–∏–µ
with open('people.csv', 'r', encoding='utf-8') as f:
    reader = csv.reader(f)
    for row in reader:
        print(row)

# –†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏
with open('people.csv', 'w', newline='', encoding='utf-8') as f:
    fieldnames = ['name', 'age', 'city']
    writer = csv.DictWriter(f, fieldnames=fieldnames)
    
    writer.writeheader()
    writer.writerow({'name': '–ê–ª–∏—Å–∞', 'age': 25, 'city': '–ú–æ—Å–∫–≤–∞'})
    writer.writerow({'name': '–ë–æ–±', 'age': 30, 'city': '–°–ü–±'})

# –ß—Ç–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π
with open('people.csv', 'r', encoding='utf-8') as f:
    reader = csv.DictReader(f)
    for row in reader:
        print(f"{row['name']} –∏–∑ {row['city']}, –≤–æ–∑—Ä–∞—Å—Ç {row['age']}")
```

### JSON —Ñ–∞–π–ª—ã

```python
import json
from pathlib import Path

# –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏
data = {
    'name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
    'age': 30,
    'skills': ['Python', 'JavaScript', 'SQL'],
    'active': True,
    'salary': None
}

# –ó–∞–ø–∏—Å—å JSON
with open('data.json', 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞–ø–∏—Å–∏
json_string = json.dumps(data, ensure_ascii=False, indent=2)
Path('data2.json').write_text(json_string, encoding='utf-8')

# –ß—Ç–µ–Ω–∏–µ JSON
with open('data.json', 'r', encoding='utf-8') as f:
    loaded_data = json.load(f)
    print(loaded_data)

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —á—Ç–µ–Ω–∏—è
json_string = Path('data.json').read_text(encoding='utf-8')
loaded_data = json.loads(json_string)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ JSON
try:
    with open('invalid.json', 'r') as f:
        data = json.load(f)
except json.JSONDecodeError as e:
    print(f"–û—à–∏–±–∫–∞ JSON: {e}")
    print(f"–°—Ç—Ä–æ–∫–∞ {e.lineno}, –ø–æ–∑–∏—Ü–∏—è {e.colno}")
```

### XML —Ñ–∞–π–ª—ã

```python
import xml.etree.ElementTree as ET
from xml.dom import minidom

# –°–æ–∑–¥–∞–Ω–∏–µ XML
root = ET.Element("library")

book1 = ET.SubElement(root, "book", id="1")
ET.SubElement(book1, "title").text = "Python Programming"
ET.SubElement(book1, "author").text = "John Doe"
ET.SubElement(book1, "year").text = "2023"

book2 = ET.SubElement(root, "book", id="2")
ET.SubElement(book2, "title").text = "Web Development"
ET.SubElement(book2, "author").text = "Jane Smith"
ET.SubElement(book2, "year").text = "2022"

# –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
def prettify_xml(element):
    rough_string = ET.tostring(element, encoding='unicode')
    reparsed = minidom.parseString(rough_string)
    return reparsed.toprettyxml(indent="  ")

# –ó–∞–ø–∏—Å—å XML
xml_string = prettify_xml(root)
with open('library.xml', 'w', encoding='utf-8') as f:
    f.write(xml_string)

# –ß—Ç–µ–Ω–∏–µ XML
tree = ET.parse('library.xml')
root = tree.getroot()

for book in root.findall('book'):
    book_id = book.get('id')
    title = book.find('title').text
    author = book.find('author').text
    year = book.find('year').text
    
    print(f"–ö–Ω–∏–≥–∞ {book_id}: {title} - {author} ({year})")
```

## üìÅ –ê—Ä—Ö–∏–≤—ã –∏ —Å–∂–∞—Ç–∏–µ

### ZIP –∞—Ä—Ö–∏–≤—ã

```python
import zipfile
from pathlib import Path

# –°–æ–∑–¥–∞–Ω–∏–µ ZIP –∞—Ä—Ö–∏–≤–∞
with zipfile.ZipFile('archive.zip', 'w', zipfile.ZIP_DEFLATED) as zipf:
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    zipf.write('file1.txt')
    zipf.write('file2.txt', 'renamed_file2.txt')  # –° –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º
    
    # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
    for file_path in Path('.').rglob('*.py'):
        zipf.write(file_path)

# –ß—Ç–µ–Ω–∏–µ ZIP –∞—Ä—Ö–∏–≤–∞
with zipfile.ZipFile('archive.zip', 'r') as zipf:
    # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
    file_list = zipf.namelist()
    print("–§–∞–π–ª—ã –≤ –∞—Ä—Ö–∏–≤–µ:", file_list)
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–∞—Ö
    for info in zipf.infolist():
        print(f"{info.filename}: {info.file_size} –±–∞–π—Ç")
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
    zipf.extractall('extracted/')
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
    zipf.extract('file1.txt', 'extracted/')
    
    # –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –±–µ–∑ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è
    with zipf.open('file1.txt') as f:
        content = f.read().decode('utf-8')
        print(content)
```

### TAR –∞—Ä—Ö–∏–≤—ã

```python
import tarfile

# –°–æ–∑–¥–∞–Ω–∏–µ TAR –∞—Ä—Ö–∏–≤–∞
with tarfile.open('archive.tar.gz', 'w:gz') as tar:
    tar.add('file1.txt')
    tar.add('directory/', recursive=True)

# –ß—Ç–µ–Ω–∏–µ TAR –∞—Ä—Ö–∏–≤–∞
with tarfile.open('archive.tar.gz', 'r:gz') as tar:
    # –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
    members = tar.getmembers()
    for member in members:
        print(f"{member.name}: {member.size} –±–∞–π—Ç")
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ
    tar.extractall('extracted/')
    
    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
    tar.extract('file1.txt', 'extracted/')
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### –ú–æ–¥—É–ª—å watchdog

```python
# pip install watchdog

from watchdog.observers import Observer
from watchdog.events import FileSystemEventHandler
import time

class FileChangeHandler(FileSystemEventHandler):
    def on_modified(self, event):
        if not event.is_directory:
            print(f"–§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω: {event.src_path}")
    
    def on_created(self, event):
        if not event.is_directory:
            print(f"–§–∞–π–ª —Å–æ–∑–¥–∞–Ω: {event.src_path}")
    
    def on_deleted(self, event):
        if not event.is_directory:
            print(f"–§–∞–π–ª —É–¥–∞–ª–µ–Ω: {event.src_path}")
    
    def on_moved(self, event):
        if not event.is_directory:
            print(f"–§–∞–π–ª –ø–µ—Ä–µ–º–µ—â–µ–Ω: {event.src_path} -> {event.dest_path}")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
event_handler = FileChangeHandler()
observer = Observer()
observer.schedule(event_handler, path='.', recursive=True)

# –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
observer.start()
try:
    while True:
        time.sleep(1)
except KeyboardInterrupt:
    observer.stop()
observer.join()
```

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è

```python
# –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ (–º–µ–¥–ª–µ–Ω–Ω–æ)
with open('file.txt', 'w', buffering=0) as f:  # –¢–æ–ª—å–∫–æ –¥–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö
    pass

# –õ–∏–Ω–µ–π–Ω–∞—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è (–¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤)
with open('file.txt', 'w', buffering=1) as f:
    pass

# –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
with open('file.txt', 'w', buffering=8192) as f:  # 8KB –±—É—Ñ–µ—Ä
    pass

# –°–∏—Å—Ç–µ–º–Ω—ã–π –±—É—Ñ–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
with open('file.txt', 'w') as f:  # buffering=-1
    pass
```

### –ß—Ç–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

```python
def process_large_file(filename):
    """–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤"""
    with open(filename, 'r', encoding='utf-8') as f:
        for line_num, line in enumerate(f, 1):
            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø–æ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
            process_line(line.strip())
            
            if line_num % 10000 == 0:
                print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ {line_num} —Å—Ç—Ä–æ–∫")

def read_in_chunks(filename, chunk_size=8192):
    """–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –±–ª–æ–∫–∞–º–∏"""
    with open(filename, 'r', encoding='utf-8') as f:
        while True:
            chunk = f.read(chunk_size)
            if not chunk:
                break
            yield chunk

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for chunk in read_in_chunks('large_file.txt'):
    process_chunk(chunk)
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ mmap –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

```python
import mmap

def search_in_large_file(filename, search_term):
    """–ü–æ–∏—Å–∫ –≤ –±–æ–ª—å—à–æ–º —Ñ–∞–π–ª–µ —Å –ø–æ–º–æ—â—å—é mmap"""
    with open(filename, 'r', encoding='utf-8') as f:
        with mmap.mmap(f.fileno(), 0, access=mmap.ACCESS_READ) as mmapped_file:
            # –ü–æ–∏—Å–∫ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
            position = mmapped_file.find(search_term.encode('utf-8'))
            if position != -1:
                # –ù–∞–π–¥–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ position
                return position
    return -1
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—É—Ç–∏

```python
from pathlib import Path
import os

def safe_path_join(base_dir, user_path):
    """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π"""
    base = Path(base_dir).resolve()
    target = (base / user_path).resolve()
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –ø—É—Ç—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –±–∞–∑–æ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    try:
        target.relative_to(base)
        return target
    except ValueError:
        raise ValueError("–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø—É—Ç—å")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try:
    safe_file = safe_path_join('/safe/directory', 'user/file.txt')
    # –ë–µ–∑–æ–ø–∞—Å–Ω–æ: /safe/directory/user/file.txt
    
    unsafe_file = safe_path_join('/safe/directory', '../../../etc/passwd')
    # –í—ã–±—Ä–æ—Å–∏—Ç ValueError
except ValueError as e:
    print(f"–û—à–∏–±–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: {e}")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

```python
import os
import stat

def check_file_permissions(filename):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ñ–∞–π–ª–∞"""
    try:
        file_stat = os.stat(filename)
        mode = file_stat.st_mode
        
        permissions = {
            'readable': os.access(filename, os.R_OK),
            'writable': os.access(filename, os.W_OK),
            'executable': os.access(filename, os.X_OK),
            'owner_read': bool(mode & stat.S_IRUSR),
            'owner_write': bool(mode & stat.S_IWUSR),
            'owner_exec': bool(mode & stat.S_IXUSR),
            'group_read': bool(mode & stat.S_IRGRP),
            'group_write': bool(mode & stat.S_IWGRP),
            'group_exec': bool(mode & stat.S_IXGRP),
            'other_read': bool(mode & stat.S_IROTH),
            'other_write': bool(mode & stat.S_IWOTH),
            'other_exec': bool(mode & stat.S_IXOTH),
        }
        
        return permissions
    except OSError:
        return None
```

### –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å

```python
import tempfile
import os
from pathlib import Path

def atomic_write(filename, content, encoding='utf-8'):
    """–ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª"""
    path = Path(filename)
    
    # –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    with tempfile.NamedTemporaryFile(
        mode='w',
        encoding=encoding,
        dir=path.parent,
        delete=False
    ) as tmp_file:
        tmp_file.write(content)
        tmp_name = tmp_file.name
    
    # –ê—Ç–æ–º–∞—Ä–Ω–æ –∑–∞–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
    os.replace(tmp_name, filename)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
atomic_write('important.txt', '–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ')
```

## üõ†Ô∏è –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
with open('file.txt', 'r', encoding='utf-8') as f:
    content = f.read()

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
f = open('file.txt', 'r')
content = f.read()
f.close()  # –ú–æ–∂–µ—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
```

### 2. –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É

```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
with open('file.txt', 'r', encoding='utf-8') as f:
    content = f.read()

# ‚ùå –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º
with open('file.txt', 'r') as f:  # –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    content = f.read()
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pathlib –≤–º–µ—Å—Ç–æ os.path

```python
from pathlib import Path

# ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±
path = Path('documents') / 'files' / 'data.txt'
if path.exists():
    content = path.read_text(encoding='utf-8')

# ‚ùå –£—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å–ø–æ—Å–æ–±
import os
filepath = os.path.join('documents', 'files', 'data.txt')
if os.path.exists(filepath):
    with open(filepath, 'r', encoding='utf-8') as f:
        content = f.read()
```

### 4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

```python
from pathlib import Path

def safe_read_file(filename):
    """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞"""
    try:
        path = Path(filename)
        return path.read_text(encoding='utf-8')
    except FileNotFoundError:
        print(f"–§–∞–π–ª {filename} –Ω–µ –Ω–∞–π–¥–µ–Ω")
        return None
    except PermissionError:
        print(f"–ù–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è {filename}")
        return None
    except UnicodeDecodeError:
        print(f"–û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –≤ —Ñ–∞–π–ª–µ {filename}")
        return None
    except Exception as e:
        print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
        return None
```

### 5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

```python
def read_large_file(filename):
    """–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤"""
    with open(filename, 'r', encoding='utf-8') as f:
        for line in f:
            yield line.strip()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for line in read_large_file('huge_file.txt'):
    if 'important' in line:
        process_line(line)
```

### 6. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ —Ç–∏–ø

```python
from pathlib import Path

def process_path(path_str):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Ç–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏"""
    path = Path(path_str)
    
    if not path.exists():
        raise FileNotFoundError(f"–ü—É—Ç—å {path} –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
    
    if path.is_file():
        return f"–§–∞–π–ª: {path.name}, —Ä–∞–∑–º–µ—Ä: {path.stat().st_size} –±–∞–π—Ç"
    elif path.is_dir():
        file_count = len(list(path.iterdir()))
        return f"–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {path.name}, —Ñ–∞–π–ª–æ–≤: {file_count}"
    else:
        return f"–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª: {path}"
```

## üöÄ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ ‚Äî —ç—Ç–æ fundamental –Ω–∞–≤—ã–∫ –≤ Python –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã (`with`)**
2. **–Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–¥–∏—Ä–æ–≤–∫—É –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pathlib –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏**
4. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π**
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤**
6. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π**

### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **pathlib** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É—Ç—è–º–∏
- **contextlib** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- **tempfile** –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- **watchdog** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- **chardet** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–¥–∏—Ä–æ–≤–æ–∫

### –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö:
- **CSV** –¥–ª—è —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **JSON** –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **XML** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ê—Ä—Ö–∏–≤—ã** –¥–ª—è —Å–∂–∞—Ç–∏—è –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–∞—à–∏—Ö Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π! 