# –¢–µ–æ—Ä–∏—è: –ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ Python

## üéØ –¶–µ–ª—å —Ä–∞–∑–¥–µ–ª–∞

–ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ Python - —ç—Ç–æ –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏. –ò–∑—É—á–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥–µ–∂–Ω—ã—Ö –∏ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û—Å–Ω–æ–≤—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#–æ—Å–Ω–æ–≤—ã-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
2. [–ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#–∏–µ—Ä–∞—Ä—Ö–∏—è-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
3. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
4. [–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
5. [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏](#–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-—Ç–µ—Ö–Ω–∏–∫–∏)
6. [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
7. [–û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–æ—Ç–ª–∞–¥–∫–∞-–∏-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üî• –û—Å–Ω–æ–≤—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ** (Exception) - —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –Ω–∞—Ä—É—à–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –í Python –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –æ–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–µ.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

```python
# SyntaxError - —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞
# print("Hello"  # –ü—Ä–æ–ø—É—â–µ–Ω–∞ –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞

# NameError - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
# print(undefined_variable)

# TypeError - –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø
# "string" + 5

# ValueError - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø, –Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
# int("not_a_number")

# IndexError - –∏–Ω–¥–µ–∫—Å –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
# [1, 2, 3][10]

# KeyError - –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á
# {"a": 1}["b"]

# FileNotFoundError - —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω
# open("nonexistent.txt")

# ZeroDivisionError - –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
# 10 / 0
```

### –ê–Ω–∞—Ç–æ–º–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è

```python
try:
    result = 10 / 0
except ZeroDivisionError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
    print(f"–¢–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è: {type(e)}")
    print(f"–ê—Ä–≥—É–º–µ–Ω—Ç—ã: {e.args}")
    print(f"–°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ: {str(e)}")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–û—à–∏–±–∫–∞: division by zero
–¢–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è: <class 'ZeroDivisionError'>
–ê—Ä–≥—É–º–µ–Ω—Ç—ã: ('division by zero',)
–°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ: division by zero
```

---

## üèóÔ∏è –ò–µ—Ä–∞—Ä—Ö–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ë–∞–∑–æ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è

Python –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏–π:

```
BaseException
‚îú‚îÄ‚îÄ SystemExit
‚îú‚îÄ‚îÄ KeyboardInterrupt
‚îú‚îÄ‚îÄ GeneratorExit
‚îî‚îÄ‚îÄ Exception
    ‚îú‚îÄ‚îÄ StopIteration
    ‚îú‚îÄ‚îÄ StopAsyncIteration
    ‚îú‚îÄ‚îÄ ArithmeticError
    ‚îÇ   ‚îú‚îÄ‚îÄ FloatingPointError
    ‚îÇ   ‚îú‚îÄ‚îÄ OverflowError
    ‚îÇ   ‚îî‚îÄ‚îÄ ZeroDivisionError
    ‚îú‚îÄ‚îÄ AssertionError
    ‚îú‚îÄ‚îÄ AttributeError
    ‚îú‚îÄ‚îÄ BufferError
    ‚îú‚îÄ‚îÄ EOFError
    ‚îú‚îÄ‚îÄ ImportError
    ‚îÇ   ‚îî‚îÄ‚îÄ ModuleNotFoundError
    ‚îú‚îÄ‚îÄ LookupError
    ‚îÇ   ‚îú‚îÄ‚îÄ IndexError
    ‚îÇ   ‚îî‚îÄ‚îÄ KeyError
    ‚îú‚îÄ‚îÄ MemoryError
    ‚îú‚îÄ‚îÄ NameError
    ‚îÇ   ‚îî‚îÄ‚îÄ UnboundLocalError
    ‚îú‚îÄ‚îÄ OSError
    ‚îÇ   ‚îú‚îÄ‚îÄ BlockingIOError
    ‚îÇ   ‚îú‚îÄ‚îÄ ChildProcessError
    ‚îÇ   ‚îú‚îÄ‚îÄ ConnectionError
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BrokenPipeError
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConnectionAbortedError
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConnectionRefusedError
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ConnectionResetError
    ‚îÇ   ‚îú‚îÄ‚îÄ FileExistsError
    ‚îÇ   ‚îú‚îÄ‚îÄ FileNotFoundError
    ‚îÇ   ‚îú‚îÄ‚îÄ InterruptedError
    ‚îÇ   ‚îú‚îÄ‚îÄ IsADirectoryError
    ‚îÇ   ‚îú‚îÄ‚îÄ NotADirectoryError
    ‚îÇ   ‚îú‚îÄ‚îÄ PermissionError
    ‚îÇ   ‚îú‚îÄ‚îÄ ProcessLookupError
    ‚îÇ   ‚îî‚îÄ‚îÄ TimeoutError
    ‚îú‚îÄ‚îÄ ReferenceError
    ‚îú‚îÄ‚îÄ RuntimeError
    ‚îÇ   ‚îú‚îÄ‚îÄ NotImplementedError
    ‚îÇ   ‚îî‚îÄ‚îÄ RecursionError
    ‚îú‚îÄ‚îÄ SyntaxError
    ‚îÇ   ‚îî‚îÄ‚îÄ IndentationError
    ‚îÇ       ‚îî‚îÄ‚îÄ TabError
    ‚îú‚îÄ‚îÄ SystemError
    ‚îú‚îÄ‚îÄ TypeError
    ‚îú‚îÄ‚îÄ ValueError
    ‚îÇ   ‚îî‚îÄ‚îÄ UnicodeError
    ‚îÇ       ‚îú‚îÄ‚îÄ UnicodeDecodeError
    ‚îÇ       ‚îú‚îÄ‚îÄ UnicodeEncodeError
    ‚îÇ       ‚îî‚îÄ‚îÄ UnicodeTranslateError
    ‚îî‚îÄ‚îÄ Warning
        ‚îú‚îÄ‚îÄ DeprecationWarning
        ‚îú‚îÄ‚îÄ PendingDeprecationWarning
        ‚îú‚îÄ‚îÄ RuntimeWarning
        ‚îú‚îÄ‚îÄ SyntaxWarning
        ‚îú‚îÄ‚îÄ UserWarning
        ‚îú‚îÄ‚îÄ FutureWarning
        ‚îú‚îÄ‚îÄ ImportWarning
        ‚îú‚îÄ‚îÄ UnicodeWarning
        ‚îú‚îÄ‚îÄ BytesWarning
        ‚îî‚îÄ‚îÄ ResourceWarning
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

#### 1. **ArithmeticError** - –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

```python
# ZeroDivisionError
try:
    result = 10 / 0
except ZeroDivisionError:
    print("–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å!")

# OverflowError (—Ä–µ–¥–∫–æ –≤ Python 3)
import math
try:
    result = math.exp(1000)
except OverflowError:
    print("–ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ!")

# FloatingPointError
import numpy as np
try:
    np.seterr(all='raise')
    result = np.float64(1) / np.float64(0)
except FloatingPointError:
    print("–û—à–∏–±–∫–∞ –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–∏!")
```

#### 2. **LookupError** - –û—à–∏–±–∫–∏ –ø–æ–∏—Å–∫–∞

```python
# IndexError
try:
    items = [1, 2, 3]
    print(items[10])
except IndexError:
    print("–ò–Ω–¥–µ–∫—Å –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞!")

# KeyError
try:
    data = {"a": 1, "b": 2}
    print(data["c"])
except KeyError:
    print("–ö–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω!")
```

#### 3. **OSError** - –û—à–∏–±–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

```python
# FileNotFoundError
try:
    with open("nonexistent.txt") as f:
        content = f.read()
except FileNotFoundError:
    print("–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω!")

# PermissionError
try:
    with open("/root/restricted.txt", "w") as f:
        f.write("data")
except PermissionError:
    print("–ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞!")

# ConnectionError (–∏ –µ–≥–æ –ø–æ–¥—Ç–∏–ø—ã)
import requests
try:
    response = requests.get("http://nonexistent-domain.xyz")
except ConnectionError:
    print("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è!")
```

#### 4. **ValueError** - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

```python
# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Ç–∏–ø–∞
try:
    number = int("not_a_number")
except ValueError:
    print("–ù–µ —É–¥–∞–µ—Ç—Å—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —á–∏—Å–ª–æ!")

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏
try:
    import math
    result = math.sqrt(-1)
except ValueError:
    print("–ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–π –∫–æ—Ä–µ–Ω—å –∏–∑ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ —á–∏—Å–ª–∞!")

# UnicodeError
try:
    text = b'\x80\x81'.decode('utf-8')
except UnicodeDecodeError:
    print("–û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è Unicode!")
```

#### 5. **TypeError** - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã

```python
# –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Ç–∏–ø–∞–º–∏
try:
    result = "—Å—Ç—Ä–æ–∫–∞" + 42
except TypeError:
    print("–ù–µ–ª—å–∑—è —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –∏ —á–∏—Å–ª–æ!")

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
def greet(name, age):
    return f"–ü—Ä–∏–≤–µ—Ç, {name}! –¢–µ–±–µ {age} –ª–µ—Ç."

try:
    message = greet("–ê–ª–∏—Å–∞")  # –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∞
except TypeError:
    print("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤!")

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –∞—Ä–≥—É–º–µ–Ω—Ç–∞
try:
    result = len(42)  # len() –æ–∂–∏–¥–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
except TypeError:
    print("–û–±—ä–µ–∫—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–ª–∏–Ω—ã!")
```

---

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å try-except

```python
try:
    # –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
    risky_operation()
except SpecificException:
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    handle_specific_error()
except AnotherException as e:
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –æ–±—ä–µ–∫—Ç—É –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    handle_another_error(e)
except (Exception1, Exception2):
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
    handle_multiple_errors()
except Exception as e:
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
    handle_general_error(e)
else:
    # –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –µ—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –Ω–µ –±—ã–ª–æ
    success_operation()
finally:
    # –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞
    cleanup_operation()
```

### –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

```python
def safe_file_read(filename):
    """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫"""
    try:
        with open(filename, 'r', encoding='utf-8') as file:
            content = file.read()
            
    except FileNotFoundError:
        print(f"–û—à–∏–±–∫–∞: –§–∞–π–ª '{filename}' –Ω–µ –Ω–∞–π–¥–µ–Ω")
        return None
        
    except PermissionError:
        print(f"–û—à–∏–±–∫–∞: –ù–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ '{filename}'")
        return None
        
    except UnicodeDecodeError as e:
        print(f"–û—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏: {e}")
        # –ü–æ–ø—Ä–æ–±—É–µ–º –¥—Ä—É–≥—É—é –∫–æ–¥–∏—Ä–æ–≤–∫—É
        try:
            with open(filename, 'r', encoding='cp1251') as file:
                content = file.read()
        except:
            print("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É —Ñ–∞–π–ª–∞")
            return None
            
    except OSError as e:
        print(f"–û—à–∏–±–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã: {e}")
        return None
        
    except Exception as e:
        print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {type(e).__name__}: {e}")
        return None
        
    else:
        print(f"–§–∞–π–ª '{filename}' —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω")
        return content
        
    finally:
        print("–û–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
content = safe_file_read("example.txt")
if content:
    print(f"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ: {content[:100]}...")
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```python
import requests
from requests.exceptions import RequestException, Timeout, ConnectionError

def safe_http_request(url, timeout=10, retries=3):
    """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–∞"""
    
    for attempt in range(retries):
        try:
            response = requests.get(url, timeout=timeout)
            response.raise_for_status()  # –ü–æ–¥–Ω–∏–º–∞–µ—Ç HTTPError –¥–ª—è –ø–ª–æ—Ö–∏—Ö —Å—Ç–∞—Ç—É—Å–æ–≤
            
        except ConnectionError:
            print(f"–ü–æ–ø—ã—Ç–∫–∞ {attempt + 1}: –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å {url}")
            if attempt == retries - 1:
                raise
            continue
            
        except Timeout:
            print(f"–ü–æ–ø—ã—Ç–∫–∞ {attempt + 1}: –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è {url}")
            if attempt == retries - 1:
                raise
            continue
            
        except requests.HTTPError as e:
            print(f"HTTP –æ—à–∏–±–∫–∞: {e.response.status_code} - {e.response.reason}")
            raise
            
        except RequestException as e:
            print(f"–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: {e}")
            raise
            
        else:
            print(f"–ó–∞–ø—Ä–æ—Å –∫ {url} –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ")
            return response.json()
    
    raise ConnectionError(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ {url} –ø–æ—Å–ª–µ {retries} –ø–æ–ø—ã—Ç–æ–∫")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try:
    data = safe_http_request("https://api.github.com/users/octocat")
    print(f"–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: {data['name']}")
except Exception as e:
    print(f"–§–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
```

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

```python
def get_user_age():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –≤–æ–∑—Ä–∞—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
    
    while True:
        try:
            age_input = input("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç: ").strip()
            
            if not age_input:
                raise ValueError("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º")
            
            age = int(age_input)
            
            if age < 0:
                raise ValueError("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º")
            elif age > 150:
                raise ValueError("–í–æ–∑—Ä–∞—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ 150")
                
        except ValueError as e:
            if "invalid literal" in str(e):
                print("–û—à–∏–±–∫–∞: –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ")
            else:
                print(f"–û—à–∏–±–∫–∞: {e}")
            continue
            
        except KeyboardInterrupt:
            print("\n–û–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
            return None
            
        except EOFError:
            print("\n–î–æ—Å—Ç–∏–≥–Ω—É—Ç –∫–æ–Ω–µ—Ü –≤–≤–æ–¥–∞")
            return None
            
        else:
            return age

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
age = get_user_age()
if age is not None:
    print(f"–í–∞—à –≤–æ–∑—Ä–∞—Å—Ç: {age} –ª–µ—Ç")
```

### –¶–µ–ø–æ—á–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

Python 3 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:

```python
def process_data(data):
    try:
        # –ö–∞–∫–∞—è-—Ç–æ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        result = complex_calculation(data)
    except ValueError as e:
        # –ü–æ–¥–Ω–∏–º–∞–µ–º –Ω–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω—è—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ
        raise RuntimeError("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö") from e

def complex_calculation(data):
    if not isinstance(data, (int, float)):
        raise ValueError("–î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–æ–º")
    return data * 2

try:
    result = process_data("invalid")
except RuntimeError as e:
    print(f"–û—Å–Ω–æ–≤–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
    print(f"–ü—Ä–∏—á–∏–Ω–∞: {e.__cause__}")
    print(f"–¢–∏–ø –ø—Ä–∏—á–∏–Ω—ã: {type(e.__cause__)}")
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–û—Å–Ω–æ–≤–Ω–∞—è –æ—à–∏–±–∫–∞: –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–∏—á–∏–Ω–∞: –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–æ–º
–¢–∏–ø –ø—Ä–∏—á–∏–Ω—ã: <class 'ValueError'>
```

---

## üè≠ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

```python
# –ü—Ä–æ—Å—Ç–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
class CustomError(Exception):
    """–ë–∞–∑–æ–≤–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ"""
    pass

# –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
class ValidationError(Exception):
    """–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏"""
    
    def __init__(self, message, field=None, value=None):
        super().__init__(message)
        self.field = field
        self.value = value
        
    def __str__(self):
        if self.field:
            return f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—è '{self.field}': {self.args[0]}"
        return self.args[0]

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try:
    raise ValidationError("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email", 
                         field="email", 
                         value="invalid-email")
except ValidationError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
    print(f"–ü–æ–ª–µ: {e.field}")
    print(f"–ó–Ω–∞—á–µ–Ω–∏–µ: {e.value}")
```

### –ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
class AppError(Exception):
    """–ë–∞–∑–æ–≤–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
    
    def __init__(self, message, error_code=None):
        super().__init__(message)
        self.error_code = error_code
        self.timestamp = datetime.now()

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º
class DatabaseError(AppError):
    """–û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"""
    pass

class ConnectionError(DatabaseError):
    """–û—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î"""
    pass

class QueryError(DatabaseError):
    """–û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤"""
    
    def __init__(self, message, query=None, error_code=None):
        super().__init__(message, error_code)
        self.query = query

class AuthenticationError(AppError):
    """–û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"""
    pass

class AuthorizationError(AppError):
    """–û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"""
    
    def __init__(self, message, required_permission=None, error_code=None):
        super().__init__(message, error_code)
        self.required_permission = required_permission

class ValidationError(AppError):
    """–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö"""
    
    def __init__(self, message, field=None, value=None, error_code=None):
        super().__init__(message, error_code)
        self.field = field
        self.value = value
        self.errors = {}
    
    def add_error(self, field, message):
        """–î–æ–±–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è"""
        if field not in self.errors:
            self.errors[field] = []
        self.errors[field].append(message)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏
class UserService:
    def create_user(self, user_data):
        try:
            # –í–∞–ª–∏–¥–∞—Ü–∏—è
            if not user_data.get('email'):
                raise ValidationError(
                    "Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω", 
                    field="email", 
                    error_code="REQUIRED_FIELD"
                )
            
            if '@' not in user_data['email']:
                raise ValidationError(
                    "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email", 
                    field="email", 
                    value=user_data['email'],
                    error_code="INVALID_FORMAT"
                )
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î
            if self.email_exists(user_data['email']):
                raise ValidationError(
                    "Email —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è", 
                    field="email",
                    value=user_data['email'],
                    error_code="DUPLICATE_EMAIL"
                )
            
            # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            return self.save_user(user_data)
            
        except ValidationError:
            # –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–∞–∫ –µ—Å—Ç—å
            raise
        except DatabaseError as e:
            # –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –æ—à–∏–±–∫–∏ –ë–î
            raise AppError(f"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {e}") from e
    
    def email_exists(self, email):
        # –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –ë–î
        return email == "existing@example.com"
    
    def save_user(self, user_data):
        # –ò–º–∏—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        return {"id": 123, **user_data}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
service = UserService()

test_cases = [
    {},  # –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ
    {"email": "invalid-email"},  # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
    {"email": "existing@example.com"},  # –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π email
    {"email": "new@example.com"}  # –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
]

for user_data in test_cases:
    try:
        result = service.create_user(user_data)
        print(f"‚úì –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: {result}")
        
    except ValidationError as e:
        print(f"‚úó –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")
        print(f"  –ö–æ–¥ –æ—à–∏–±–∫–∏: {e.error_code}")
        if e.field:
            print(f"  –ü–æ–ª–µ: {e.field}")
        if e.value:
            print(f"  –ó–Ω–∞—á–µ–Ω–∏–µ: {e.value}")
            
    except DatabaseError as e:
        print(f"‚úó –û—à–∏–±–∫–∞ –ë–î: {e}")
        print(f"  –ö–æ–¥ –æ—à–∏–±–∫–∏: {e.error_code}")
        
    except AppError as e:
        print(f"‚úó –û—à–∏–±–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: {e}")
        print(f"  –í—Ä–µ–º—è: {e.timestamp}")
        
    print()
```

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

```python
class BusinessLogicError(Exception):
    """–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –æ—à–∏–±–æ–∫ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏"""
    
    def __init__(self, message, context=None, suggestions=None):
        super().__init__(message)
        self.context = context or {}
        self.suggestions = suggestions or []
    
    def add_context(self, key, value):
        """–î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é"""
        self.context[key] = value
    
    def add_suggestion(self, suggestion):
        """–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é"""
        self.suggestions.append(suggestion)
    
    def __str__(self):
        msg = self.args[0]
        
        if self.context:
            context_str = ", ".join(f"{k}={v}" for k, v in self.context.items())
            msg += f" (–ö–æ–Ω—Ç–µ–∫—Å—Ç: {context_str})"
        
        if self.suggestions:
            suggestions_str = "; ".join(self.suggestions)
            msg += f" [–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: {suggestions_str}]"
        
        return msg

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
def process_order(order_id, items):
    error = BusinessLogicError("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–∫–∞–∑")
    error.add_context("order_id", order_id)
    error.add_context("items_count", len(items))
    
    if not items:
        error.add_suggestion("–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑")
        raise error
    
    total_cost = sum(item.get('price', 0) * item.get('quantity', 0) for item in items)
    error.add_context("total_cost", total_cost)
    
    if total_cost <= 0:
        error.add_suggestion("–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–Ω—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤")
        raise error
    
    if total_cost > 10000:
        error.add_suggestion("–†–∞–∑–¥–µ–ª–∏—Ç–µ –∑–∞–∫–∞–∑ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π")
        error.add_suggestion("–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É –¥–ª—è –±–æ–ª—å—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤")
        raise error

try:
    process_order(12345, [
        {"name": "Laptop", "price": 8000, "quantity": 2}
    ])
except BusinessLogicError as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
```

---

## ‚ö° –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
import functools
import logging
import time
from typing import Type, Union, Tuple

def retry(max_attempts=3, delay=1, exceptions=(Exception,)):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö"""
    
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            for attempt in range(max_attempts):
                try:
                    return func(*args, **kwargs)
                except exceptions as e:
                    if attempt == max_attempts - 1:
                        raise
                    print(f"–ü–æ–ø—ã—Ç–∫–∞ {attempt + 1} –Ω–µ—É–¥–∞—á–Ω–∞: {e}")
                    time.sleep(delay)
            
        return wrapper
    return decorator

def handle_exceptions(*exception_types, default_return=None, log_errors=True):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
    
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            try:
                return func(*args, **kwargs)
            except exception_types as e:
                if log_errors:
                    logging.error(f"–û—à–∏–±–∫–∞ –≤ {func.__name__}: {e}")
                return default_return
        return wrapper
    return decorator

def validate_args(**validators):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏"""
    
    def decorator(func):
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            # –ü–æ–ª—É—á–∞–µ–º –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            import inspect
            sig = inspect.signature(func)
            bound_args = sig.bind(*args, **kwargs)
            bound_args.apply_defaults()
            
            # –í–∞–ª–∏–¥–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
            for param_name, validator in validators.items():
                if param_name in bound_args.arguments:
                    value = bound_args.arguments[param_name]
                    if not validator(value):
                        raise ValidationError(
                            f"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ '{param_name}': {value}"
                        )
            
            return func(*args, **kwargs)
        return wrapper
    return decorator

# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤

@retry(max_attempts=3, delay=0.5, exceptions=(ConnectionError, TimeoutError))
def unreliable_network_call():
    """–ù–µ–Ω–∞–¥–µ–∂–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –≤—ã–∑–æ–≤"""
    import random
    if random.random() < 0.7:  # 70% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏
        raise ConnectionError("–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞")
    return "–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç"

@handle_exceptions(ValueError, TypeError, default_return=0, log_errors=True)
def safe_division(a, b):
    """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ"""
    return a / b

@validate_args(
    name=lambda x: isinstance(x, str) and len(x) > 0,
    age=lambda x: isinstance(x, int) and 0 <= x <= 150,
    email=lambda x: isinstance(x, str) and '@' in x
)
def create_person(name, age, email):
    """–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
    return {"name": name, "age": age, "email": email}

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
try:
    result = unreliable_network_call()
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–µ—Ç–µ–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞: {result}")
except Exception as e:
    print(f"–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")

print(f"–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ: {safe_division(10, 2)}")  # 5.0
print(f"–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ: {safe_division(10, 0)}")  # 0

try:
    person = create_person("–ê–ª–∏—Å–∞", 25, "alice@example.com")
    print(f"–ü–µ—Ä—Å–æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞: {person}")
except ValidationError as e:
    print(f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")

try:
    person = create_person("", 25, "alice@example.com")  # –ü—É—Å—Ç–æ–µ –∏–º—è
except ValidationError as e:
    print(f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏

```python
class TransactionManager:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏"""
    
    def __init__(self, connection):
        self.connection = connection
        self.transaction = None
    
    def __enter__(self):
        try:
            self.transaction = self.connection.begin()
            return self.transaction
        except Exception as e:
            raise DatabaseError(f"–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞—á–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é: {e}") from e
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        if exc_type is None:
            # –ù–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è - –∫–æ–º–º–∏—Ç–∏–º
            try:
                self.transaction.commit()
            except Exception as e:
                # –ï—Å–ª–∏ –∫–æ–º–º–∏—Ç –Ω–µ —É–¥–∞–ª—Å—è, –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º
                try:
                    self.transaction.rollback()
                except:
                    pass
                raise DatabaseError(f"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é: {e}") from e
        else:
            # –ï—Å—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ - –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º
            try:
                self.transaction.rollback()
            except Exception as rollback_error:
                # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –æ—Ç–∫–∞—Ç–∞, –Ω–æ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
                logging.error(f"–û—à–∏–±–∫–∞ –æ—Ç–∫–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: {rollback_error}")
        
        # –í–æ–∑–≤—Ä–∞—â–∞–µ–º False, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –ø–æ–¥–∞–≤–ª—è–ª–æ—Å—å
        return False

class ErrorHandler:
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫"""
    
    def __init__(self, error_mapping=None, default_action=None):
        self.error_mapping = error_mapping or {}
        self.default_action = default_action
        self.errors = []
    
    def __enter__(self):
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        if exc_type is None:
            return False
        
        # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
        self.errors.append((exc_type, exc_val, exc_tb))
        
        # –ò—â–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
        for error_type, handler in self.error_mapping.items():
            if issubclass(exc_type, error_type):
                try:
                    handler(exc_val)
                    return True  # –ü–æ–¥–∞–≤–ª—è–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
                except Exception as handler_error:
                    logging.error(f"–û—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ: {handler_error}")
                    break
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        if self.default_action:
            try:
                self.default_action(exc_val)
                return True
            except Exception as handler_error:
                logging.error(f"–û—à–∏–±–∫–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: {handler_error}")
        
        # –ù–µ –ø–æ–¥–∞–≤–ª—è–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
        return False
    
    def add_handler(self, exception_type, handler):
        """–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è"""
        self.error_mapping[exception_type] = handler

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
def save_user_data(user_data):
    """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫"""
    
    def handle_validation_error(error):
        print(f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {error}")
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Ç.–¥.
    
    def handle_database_error(error):
        print(f"–û—à–∏–±–∫–∞ –ë–î: {error}")
        # –ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –ë–î –∏ —Ç.–¥.
    
    def handle_general_error(error):
        print(f"–û–±—â–∞—è –æ—à–∏–±–∫–∞: {error}")
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    
    error_handler = ErrorHandler(
        error_mapping={
            ValidationError: handle_validation_error,
            DatabaseError: handle_database_error,
        },
        default_action=handle_general_error
    )
    
    with error_handler:
        # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        if not user_data.get('email'):
            raise ValidationError("Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω")
        
        # –ò–º–∏—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
        if user_data['email'] == 'error@example.com':
            raise DatabaseError("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î")
        
        if user_data['email'] == 'unknown@example.com':
            raise RuntimeError("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞")
        
        print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω: {user_data}")

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
test_users = [
    {"email": "valid@example.com", "name": "–ê–ª–∏—Å–∞"},
    {"name": "–ë–æ–±"},  # –ù–µ—Ç email
    {"email": "error@example.com", "name": "–ß–∞—Ä–ª–∏"},  # –û—à–∏–±–∫–∞ –ë–î
    {"email": "unknown@example.com", "name": "–î–∏–∞–Ω–∞"},  # –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞
]

for user in test_users:
    print(f"\n–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user}")
    save_user_data(user)
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
import asyncio
import aiohttp
from typing import List, Dict, Any

class AsyncRetry:
    """–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ—Ç—Ä–∞–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä"""
    
    def __init__(self, max_attempts=3, delay=1, backoff=1, exceptions=(Exception,)):
        self.max_attempts = max_attempts
        self.delay = delay
        self.backoff = backoff
        self.exceptions = exceptions
    
    def __call__(self, func):
        @functools.wraps(func)
        async def wrapper(*args, **kwargs):
            current_delay = self.delay
            
            for attempt in range(self.max_attempts):
                try:
                    return await func(*args, **kwargs)
                except self.exceptions as e:
                    if attempt == self.max_attempts - 1:
                        raise
                    
                    print(f"–ü–æ–ø—ã—Ç–∫–∞ {attempt + 1} –Ω–µ—É–¥–∞—á–Ω–∞: {e}")
                    await asyncio.sleep(current_delay)
                    current_delay *= self.backoff
            
        return wrapper

async def fetch_url_safe(session: aiohttp.ClientSession, url: str) -> Dict[str, Any]:
    """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ URL"""
    
    @AsyncRetry(max_attempts=3, delay=0.5, backoff=2, 
                exceptions=(aiohttp.ClientError, asyncio.TimeoutError))
    async def _fetch():
        try:
            async with session.get(url, timeout=aiohttp.ClientTimeout(total=5)) as response:
                response.raise_for_status()
                return await response.json()
                
        except aiohttp.ClientResponseError as e:
            if e.status >= 500:
                # –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ - –º–æ–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
                raise
            else:
                # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –æ—à–∏–±–∫–∏ - –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–µ–º
                return {"error": f"HTTP {e.status}: {e.message}", "url": url}
                
        except aiohttp.ClientConnectionError:
            raise ConnectionError(f"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ {url}")
            
        except asyncio.TimeoutError:
            raise TimeoutError(f"–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è {url}")
    
    try:
        return await _fetch()
    except Exception as e:
        return {"error": str(e), "url": url}

async def fetch_multiple_urls(urls: List[str]) -> List[Dict[str, Any]]:
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö URL —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫"""
    
    async with aiohttp.ClientSession() as session:
        # –°–æ–∑–¥–∞–µ–º –∑–∞–¥–∞—á–∏ –¥–ª—è –≤—Å–µ—Ö URL
        tasks = [fetch_url_safe(session, url) for url in urls]
        
        # –í—ã–ø–æ–ª–Ω—è–µ–º –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
        results = await asyncio.gather(*tasks, return_exceptions=True)
        
        # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        processed_results = []
        for i, result in enumerate(results):
            if isinstance(result, Exception):
                processed_results.append({
                    "error": str(result),
                    "url": urls[i],
                    "exception_type": type(result).__name__
                })
            else:
                processed_results.append(result)
        
        return processed_results

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
async def main():
    urls = [
        "https://api.github.com/users/octocat",
        "https://httpbin.org/status/500",  # –°–µ—Ä–≤–µ—Ä–Ω–∞—è –æ—à–∏–±–∫–∞
        "https://httpbin.org/status/404",  # –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ—à–∏–±–∫–∞
        "https://nonexistent-domain-12345.com",  # –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        "https://httpbin.org/delay/10",  # –¢–∞–π–º–∞—É—Ç
    ]
    
    print("–ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤...")
    results = await fetch_multiple_urls(urls)
    
    for i, result in enumerate(results):
        print(f"\nURL {i + 1}: {urls[i]}")
        if "error" in result:
            print(f"  ‚ùå –û—à–∏–±–∫–∞: {result['error']}")
        else:
            print(f"  ‚úÖ –£—Å–ø–µ—Ö: {len(str(result))} —Å–∏–º–≤–æ–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö")

# –ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞
if __name__ == "__main__":
    try:
        asyncio.run(main())
    except KeyboardInterrupt:
        print("\n–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
```

---

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–∏–Ω—Ü–∏–ø —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç–∏

```python
# ‚ùå –ü–ª–æ—Ö–æ - —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–π except
try:
    data = json.loads(text)
    result = process_data(data)
except Exception:
    print("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫")

# ‚úÖ –•–æ—Ä–æ—à–æ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
try:
    data = json.loads(text)
    result = process_data(data)
except json.JSONDecodeError as e:
    print(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON: {e}")
except ValueError as e:
    print(f"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {e}")
except Exception as e:
    print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: {e}")
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ
    logging.exception("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ process_data")
```

### 2. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–Ω–Ω–µ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞

```python
# ‚ùå –ü–ª–æ—Ö–æ - –≥–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
def process_user_data(user_data):
    try:
        if user_data:
            if 'email' in user_data:
                if '@' in user_data['email']:
                    # –û–±—Ä–∞–±–æ—Ç–∫–∞...
                    return result
                else:
                    raise ValidationError("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π email")
            else:
                raise ValidationError("Email –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç")
        else:
            raise ValidationError("–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç")
    except ValidationError:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
        pass

# ‚úÖ –•–æ—Ä–æ—à–æ - —Ä–∞–Ω–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
def process_user_data(user_data):
    if not user_data:
        raise ValidationError("–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç")
    
    if 'email' not in user_data:
        raise ValidationError("Email –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç")
    
    if '@' not in user_data['email']:
        raise ValidationError("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π email")
    
    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
    return process_valid_data(user_data)
```

### 3. –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏

```python
# ‚ùå –ü–ª–æ—Ö–æ - –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
try:
    user = get_user(user_id)
    update_user(user, new_data)
except Exception:
    print("–û—à–∏–±–∫–∞")

# ‚úÖ –•–æ—Ä–æ—à–æ - –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
try:
    user = get_user(user_id)
    if not user:
        raise ValueError(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID {user_id} –Ω–µ –Ω–∞–π–¥–µ–Ω")
    
    update_user(user, new_data)
    
except ValueError as e:
    print(f"–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")
    logging.warning(f"–ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_id}")
    
except DatabaseError as e:
    print(f"–û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}: {e}")
    logging.error(f"DB error for user {user_id}: {e}", exc_info=True)
    
except Exception as e:
    print(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}: {e}")
    logging.exception(f"Unexpected error updating user {user_id}")
```

### 4. –ü—Ä–∏–Ω—Ü–∏–ø –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

```python
# ‚ùå –ü–ª–æ—Ö–æ - —Ä–µ—Å—É—Ä—Å—ã –º–æ–≥—É—Ç –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å—Å—è
def process_file(filename):
    file = open(filename)
    try:
        data = file.read()
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
        return process_data(data)
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞: {e}")
        return None
    finally:
        file.close()  # –ú–æ–∂–µ—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è, –µ—Å–ª–∏ open() —É–ø–∞–ª

# ‚úÖ –•–æ—Ä–æ—à–æ - –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
def process_file(filename):
    try:
        with open(filename) as file:
            data = file.read()
            return process_data(data)
    except FileNotFoundError:
        print(f"–§–∞–π–ª {filename} –Ω–µ –Ω–∞–π–¥–µ–Ω")
        return None
    except PermissionError:
        print(f"–ù–µ—Ç –ø—Ä–∞–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ {filename}")
        return None
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–∞ {filename}: {e}")
        logging.exception(f"Error processing file {filename}")
        return None
```

### 5. –ü—Ä–∏–Ω—Ü–∏–ø –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('app.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)

def robust_function(data):
    """–§—É–Ω–∫—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫"""
    
    try:
        logger.info(f"–ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö: {len(data)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤")
        
        # –í–∞–ª–∏–¥–∞—Ü–∏—è
        if not isinstance(data, list):
            raise TypeError(f"–û–∂–∏–¥–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫, –ø–æ–ª—É—á–µ–Ω {type(data)}")
        
        if not data:
            logger.warning("–ü–æ–ª—É—á–µ–Ω –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –¥–∞–Ω–Ω—ã—Ö")
            return []
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞
        results = []
        for i, item in enumerate(data):
            try:
                result = process_item(item)
                results.append(result)
            except Exception as e:
                logger.error(f"–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ {i}: {e}")
                # –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                continue
        
        logger.info(f"–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: {len(results)} –∏–∑ {len(data)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤")
        return results
        
    except TypeError as e:
        logger.error(f"–û—à–∏–±–∫–∞ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö: {e}")
        raise
        
    except Exception as e:
        logger.exception("–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ robust_function")
        raise

def process_item(item):
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞"""
    if not isinstance(item, dict):
        raise ValueError(f"–≠–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ª–æ–≤–∞—Ä–µ–º, –ø–æ–ª—É—á–µ–Ω {type(item)}")
    
    # –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
    return {"processed": True, "original": item}
```

---

## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ —Å—Ç–µ–∫–∞

```python
import traceback
import sys

def detailed_error_info():
    """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ"""
    
    try:
        # –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
        risky_operation()
        
    except Exception as e:
        # –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏
        exc_type, exc_value, exc_traceback = sys.exc_info()
        
        print("=== –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ ===")
        print(f"–¢–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è: {exc_type.__name__}")
        print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {exc_value}")
        print(f"–ú–æ–¥—É–ª—å: {exc_type.__module__}")
        
        print("\n=== –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–∫–∞ ===")
        traceback.print_exc()
        
        print("\n=== –ü–æ–¥—Ä–æ–±–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ ===")
        tb_lines = traceback.format_exception(exc_type, exc_value, exc_traceback)
        for line in tb_lines:
            print(line.rstrip())
        
        print("\n=== –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã–∑–æ–≤ ===")
        filename, line_number, function_name, text = traceback.extract_tb(exc_traceback)[-1]
        print(f"–§–∞–π–ª: {filename}")
        print(f"–°—Ç—Ä–æ–∫–∞: {line_number}")
        print(f"–§—É–Ω–∫—Ü–∏—è: {function_name}")
        print(f"–ö–æ–¥: {text}")

def risky_operation():
    """–§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É"""
    def inner_function():
        x = 1 / 0  # ZeroDivisionError
    
    inner_function()

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞
detailed_error_info()
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
import sys
import traceback
import logging
from datetime import datetime

class CustomExceptionHandler:
    """–ö–∞—Å—Ç–æ–º–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
    
    def __init__(self, log_file='errors.log'):
        self.log_file = log_file
        self.setup_logging()
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
        sys.excepthook = self.handle_exception
    
    def setup_logging(self):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"""
        self.logger = logging.getLogger('exception_handler')
        self.logger.setLevel(logging.ERROR)
        
        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ñ–∞–π–ª–∞
        file_handler = logging.FileHandler(self.log_file)
        file_formatter = logging.Formatter(
            '%(asctime)s - %(levelname)s - %(message)s'
        )
        file_handler.setFormatter(file_formatter)
        self.logger.addHandler(file_handler)
    
    def handle_exception(self, exc_type, exc_value, exc_traceback):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
        
        if issubclass(exc_type, KeyboardInterrupt):
            # –ù–µ –ª–æ–≥–∏—Ä—É–µ–º KeyboardInterrupt
            sys.__excepthook__(exc_type, exc_value, exc_traceback)
            return
        
        # –°–æ–∑–¥–∞–µ–º –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–µ
        error_report = self.create_error_report(exc_type, exc_value, exc_traceback)
        
        # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
        self.logger.error(error_report)
        
        # –í—ã–≤–æ–¥–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        print("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞!")
        print(f"–¢–∏–ø –æ—à–∏–±–∫–∏: {exc_type.__name__}")
        print(f"–û–ø–∏—Å–∞–Ω–∏–µ: {exc_value}")
        print(f"–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ {self.log_file}")
        
        # –í—ã–∑—ã–≤–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
        if __debug__:  # –í —Ä–µ–∂–∏–º–µ –æ—Ç–ª–∞–¥–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ω—É—é —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É
            sys.__excepthook__(exc_type, exc_value, exc_traceback)
    
    def create_error_report(self, exc_type, exc_value, exc_traceback):
        """–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –æ–± –æ—à–∏–±–∫–µ"""
        
        timestamp = datetime.now().isoformat()
        
        report = [
            f"–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê - {timestamp}",
            "=" * 50,
            f"–¢–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è: {exc_type.__name__}",
            f"–ú–æ–¥—É–ª—å: {exc_type.__module__}",
            f"–°–æ–æ–±—â–µ–Ω–∏–µ: {exc_value}",
            "",
            "–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–∫–∞:",
        ]
        
        # –î–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É
        tb_lines = traceback.format_exception(exc_type, exc_value, exc_traceback)
        report.extend(tb_lines)
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ
        report.extend([
            "",
            "–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:",
            f"Python –≤–µ—Ä—Å–∏—è: {sys.version}",
            f"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: {sys.platform}",
            f"–ü—É—Ç—å –∫ Python: {sys.executable}",
        ])
        
        return "\n".join(report)

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
handler = CustomExceptionHandler()

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
def test_error_handling():
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫"""
    
    # –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
    test_cases = [
        lambda: 1 / 0,  # ZeroDivisionError
        lambda: [1, 2, 3][10],  # IndexError
        lambda: {"a": 1}["b"],  # KeyError
        lambda: int("–Ω–µ —á–∏—Å–ª–æ"),  # ValueError
    ]
    
    for i, test_case in enumerate(test_cases):
        try:
            print(f"\n–¢–µ—Å—Ç {i + 1}:")
            test_case()
        except Exception as e:
            print(f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ: {type(e).__name__}: {e}")

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
test_error_handling()

# –ü—Ä–∏–º–µ—Ä –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º)
# raise RuntimeError("–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞")
```

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
import time
import functools
from collections import defaultdict, Counter

class ExceptionProfiler:
    """–ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
    
    def __init__(self):
        self.exception_stats = defaultdict(lambda: {
            'count': 0,
            'total_time': 0,
            'locations': Counter(),
            'messages': Counter()
        })
        self.enabled = True
    
    def profile_exceptions(self, func):
        """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π"""
        
        @functools.wraps(func)
        def wrapper(*args, **kwargs):
            if not self.enabled:
                return func(*args, **kwargs)
            
            start_time = time.time()
            try:
                return func(*args, **kwargs)
            except Exception as e:
                end_time = time.time()
                duration = end_time - start_time
                
                # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                exc_type = type(e).__name__
                location = f"{func.__module__}.{func.__name__}"
                message = str(e)
                
                stats = self.exception_stats[exc_type]
                stats['count'] += 1
                stats['total_time'] += duration
                stats['locations'][location] += 1
                stats['messages'][message] += 1
                
                # –ü–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
                raise
        
        return wrapper
    
    def get_report(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –ø–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º"""
        
        if not self.exception_stats:
            return "–ò—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã"
        
        report = ["=== –û–¢–ß–ï–¢ –ü–û –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø–ú ===\n"]
        
        # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É
        sorted_exceptions = sorted(
            self.exception_stats.items(),
            key=lambda x: x[1]['count'],
            reverse=True
        )
        
        for exc_type, stats in sorted_exceptions:
            avg_time = stats['total_time'] / stats['count']
            
            report.append(f"üî• {exc_type}:")
            report.append(f"   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {stats['count']}")
            report.append(f"   –û–±—â–µ–µ –≤—Ä–µ–º—è: {stats['total_time']:.3f}s")
            report.append(f"   –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: {avg_time:.3f}s")
            
            # –¢–æ–ø –ª–æ–∫–∞—Ü–∏–π
            report.append("   –¢–æ–ø –ª–æ–∫–∞—Ü–∏–π:")
            for location, count in stats['locations'].most_common(3):
                report.append(f"     {location}: {count}")
            
            # –¢–æ–ø —Å–æ–æ–±—â–µ–Ω–∏–π
            report.append("   –¢–æ–ø —Å–æ–æ–±—â–µ–Ω–∏—è:")
            for message, count in stats['messages'].most_common(3):
                short_msg = message[:50] + "..." if len(message) > 50 else message
                report.append(f"     '{short_msg}': {count}")
            
            report.append("")
        
        return "\n".join(report)
    
    def reset_stats(self):
        """–°–±—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
        self.exception_stats.clear()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞
profiler = ExceptionProfiler()

@profiler.profile_exceptions
def problematic_function(value):
    """–§—É–Ω–∫—Ü–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏"""
    
    if value == "zero":
        return 1 / 0
    elif value == "index":
        return [1, 2, 3][10]
    elif value == "key":
        return {"a": 1}["b"]
    elif value == "value":
        return int("–Ω–µ —á–∏—Å–ª–æ")
    else:
        return f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: {value}"

@profiler.profile_exceptions
def another_function(data):
    """–î—Ä—É–≥–∞—è –ø—Ä–æ–±–ª–µ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    
    if not data:
        raise ValueError("–î–∞–Ω–Ω—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏")
    
    if len(data) > 10:
        raise ValueError("–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö")
    
    return len(data)

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
test_values = ["zero", "index", "key", "value", "normal"] * 10
test_data = [[], "a" * 15, "normal", "test"] * 5

print("–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–π...\n")

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
for value in test_values:
    try:
        result = problematic_function(value)
        print(f"‚úì {value}: {result}")
    except Exception as e:
        print(f"‚úó {value}: {type(e).__name__}")

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Ç–æ—Ä—É—é —Ñ—É–Ω–∫—Ü–∏—é
for data in test_data:
    try:
        result = another_function(data)
        print(f"‚úì {repr(data)}: {result}")
    except Exception as e:
        print(f"‚úó {repr(data)}: {type(e).__name__}")

# –í—ã–≤–æ–¥–∏–º –æ—Ç—á–µ—Ç
print("\n" + profiler.get_report())
```

---

## üìö –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ Python - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥–µ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏:

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

1. **–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å** - –ª–æ–≤–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∞ –Ω–µ –æ–±—â–∏–π `Exception`
2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–∞—Ö
3. **–û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `finally` –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –≤–µ–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
5. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã:

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —Ç–∞–∫ –∂–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ, –∫–∞–∫ –∏ –æ—Å–Ω–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö

### –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã (—á–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å):

```python
# ‚ùå –ü—É—Å—Ç–æ–π except
try:
    risky_operation()
except:
    pass

# ‚ùå –°–ª–∏—à–∫–æ–º –æ–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
try:
    complex_operation()
except Exception:
    print("–û—à–∏–±–∫–∞")

# ‚ùå –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
try:
    process_file(filename)
except FileNotFoundError:
    print("–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω")  # –ö–∞–∫–æ–π —Ñ–∞–π–ª?

# ‚ùå –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
def safe_operation():
    try:
        return dangerous_operation()
    except:
        return None  # –¢–µ—Ä—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–µ
```

–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π - —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ò–∑—É—á–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫ –∏ –≤—Å–µ–≥–¥–∞ –¥—É–º–∞–π—Ç–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è —Å —ç—Ç–∏–º–∏ –æ—à–∏–±–∫–∞–º–∏. 